<template>
      <div id="graph">
            <canvas ref="chart" @click="click"></canvas>
            <svg v-if="desktop" width="600px" height="600px" viewBox="0 0 600 600" fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <path d="M301.414 0.585786C300.633 -0.195262 299.367 -0.195262 298.586 0.585786L285.858 13.3137C285.077 14.0948 285.077 15.3611 285.858 16.1421C286.639 16.9232 287.905 16.9232 288.686 16.1421L300 4.82843L311.314 16.1421C312.095 16.9232 313.361 16.9232 314.142 16.1421C314.923 15.3611 314.923 14.0948 314.142 13.3137L301.414 0.585786ZM298 2L298 602H302L302 2L298 2Z"
                        fill="black" />
                  <path d="M601.414 303.414C602.195 302.633 602.195 301.367 601.414 300.586L588.686 287.858C587.905 287.077 586.639 287.077 585.858 287.858C585.077 288.639 585.077 289.905 585.858 290.686L597.172 302L585.858 313.314C585.077 314.095 585.077 315.361 585.858 316.142C586.639 316.923 587.905 316.923 588.686 316.142L601.414 303.414ZM0 304H600V300H0V304Z"
                        fill="black" />
                  <line x1="290" y1="202" x2="309" y2="202" stroke="black" stroke-width="2" />
                  <line x1="290" y1="502" x2="309" y2="502" stroke="black" stroke-width="2" />
                  <line x1="290" y1="402" x2="309" y2="402" stroke="black" stroke-width="2" />
                  <line x1="290" y1="102" x2="309" y2="102" stroke="black" stroke-width="2" />
                  <line x1="399" y1="313" x2="399" y2="293" stroke="black" stroke-width="2" />
                  <line x1="99" y1="313" x2="99" y2="293" stroke="black" stroke-width="2" />
                  <line x1="199" y1="313" x2="199" y2="293" stroke="black" stroke-width="2" />
                  <line x1="499" y1="313" x2="499" y2="293" stroke="black" stroke-width="2" />
                  <rect x="199" y="102" width="101" height="200" fill="#1E90FF" fill-opacity="0.6" />
                  <path d="M300 402C313.132 402 326.136 399.413 338.268 394.388C350.401 389.362 361.425 381.997 370.711 372.711C379.997 363.425 387.362 352.401 392.388 340.268C397.413 328.136 400 315.132 400 302L300 302V402Z"
                        fill="#1E90FF" fill-opacity="0.6" />
                  <path d="M99 302H300V402L99 302Z" fill="#1E90FF" fill-opacity="0.6" />
                  <path d="M315.136 45.9091C314.795 45.9091 314.491 45.8807 314.224 45.8239C313.957 45.7727 313.773 45.7216 313.67 45.6705L314.182 43.8977C314.67 44.0227 315.102 44.0682 315.477 44.0341C315.852 44 316.185 43.8324 316.474 43.5312C316.77 43.2358 317.04 42.7557 317.284 42.0909L317.659 41.0682L312.818 27.9091H315L318.614 38.3409H318.75L322.364 27.9091H324.545L318.989 42.9091C318.739 43.5852 318.429 44.1449 318.06 44.5881C317.69 45.0369 317.261 45.3693 316.773 45.5852C316.29 45.8011 315.744 45.9091 315.136 45.9091Z"
                        fill="black" />
                  <path d="M565.341 270.909L568.477 276.261L571.614 270.909H573.932L569.705 277.455L573.932 284H571.614L568.477 278.92L565.341 284H563.023L567.182 277.455L563.023 270.909H565.341Z"
                        fill="black" />
                  <path d="M314.114 112V94.5455H320.011C321.375 94.5455 322.494 94.7784 323.369 95.2443C324.244 95.7045 324.892 96.3381 325.312 97.1449C325.733 97.9517 325.943 98.8693 325.943 99.8977C325.943 100.926 325.733 101.838 325.312 102.634C324.892 103.429 324.247 104.054 323.378 104.509C322.509 104.957 321.398 105.182 320.045 105.182H315.273V103.273H319.977C320.909 103.273 321.659 103.136 322.227 102.864C322.801 102.591 323.216 102.205 323.472 101.705C323.733 101.199 323.864 100.597 323.864 99.8977C323.864 99.1989 323.733 98.5881 323.472 98.0653C323.21 97.5426 322.793 97.1392 322.219 96.8551C321.645 96.5653 320.886 96.4205 319.943 96.4205H316.227V112H314.114ZM322.33 104.159L326.625 112H324.17L319.943 104.159H322.33Z"
                        fill="black" />
                  <path d="M91.3409 328.335V330.21H83.7045V328.335H91.3409ZM95.1527 338V320.545H101.05C102.414 320.545 103.533 320.778 104.408 321.244C105.283 321.705 105.931 322.338 106.352 323.145C106.772 323.952 106.982 324.869 106.982 325.898C106.982 326.926 106.772 327.838 106.352 328.634C105.931 329.429 105.286 330.054 104.417 330.509C103.548 330.957 102.437 331.182 101.085 331.182H96.3118V329.273H101.016C101.948 329.273 102.698 329.136 103.266 328.864C103.84 328.591 104.255 328.205 104.511 327.705C104.772 327.199 104.903 326.597 104.903 325.898C104.903 325.199 104.772 324.588 104.511 324.065C104.249 323.543 103.832 323.139 103.258 322.855C102.684 322.565 101.925 322.42 100.982 322.42H97.2663V338H95.1527ZM103.369 330.159L107.664 338H105.21L100.982 330.159H103.369Z"
                        fill="black" />
                  <path d="M495.114 284V266.545H501.011C502.375 266.545 503.494 266.778 504.369 267.244C505.244 267.705 505.892 268.338 506.312 269.145C506.733 269.952 506.943 270.869 506.943 271.898C506.943 272.926 506.733 273.838 506.312 274.634C505.892 275.429 505.247 276.054 504.378 276.509C503.509 276.957 502.398 277.182 501.045 277.182H496.273V275.273H500.977C501.909 275.273 502.659 275.136 503.227 274.864C503.801 274.591 504.216 274.205 504.472 273.705C504.733 273.199 504.864 272.597 504.864 271.898C504.864 271.199 504.733 270.588 504.472 270.065C504.21 269.543 503.793 269.139 503.219 268.855C502.645 268.565 501.886 268.42 500.943 268.42H497.227V284H495.114ZM503.33 276.159L507.625 284H505.17L500.943 276.159H503.33Z"
                        fill="black" />
                  <path d="M268.341 501.335V503.21H260.705V501.335H268.341ZM272.153 511V493.545H278.05C279.414 493.545 280.533 493.778 281.408 494.244C282.283 494.705 282.931 495.338 283.352 496.145C283.772 496.952 283.982 497.869 283.982 498.898C283.982 499.926 283.772 500.838 283.352 501.634C282.931 502.429 282.286 503.054 281.417 503.509C280.548 503.957 279.437 504.182 278.085 504.182H273.312V502.273H278.016C278.948 502.273 279.698 502.136 280.266 501.864C280.84 501.591 281.255 501.205 281.511 500.705C281.772 500.199 281.903 499.597 281.903 498.898C281.903 498.199 281.772 497.588 281.511 497.065C281.249 496.543 280.832 496.139 280.258 495.855C279.684 495.565 278.925 495.42 277.982 495.42H274.266V511H272.153ZM280.369 503.159L284.664 511H282.21L277.982 503.159H280.369Z"
                        fill="black" />
                  <path d="M183.341 328.335V330.21H175.705V328.335H183.341ZM187.153 338V320.545H193.05C194.414 320.545 195.533 320.778 196.408 321.244C197.283 321.705 197.931 322.338 198.352 323.145C198.772 323.952 198.982 324.869 198.982 325.898C198.982 326.926 198.772 327.838 198.352 328.634C197.931 329.429 197.286 330.054 196.417 330.509C195.548 330.957 194.437 331.182 193.085 331.182H188.312V329.273H193.016C193.948 329.273 194.698 329.136 195.266 328.864C195.84 328.591 196.255 328.205 196.511 327.705C196.772 327.199 196.903 326.597 196.903 325.898C196.903 325.199 196.772 324.588 196.511 324.065C196.249 323.543 195.832 323.139 195.258 322.855C194.684 322.565 193.925 322.42 192.982 322.42H189.266V338H187.153ZM195.369 330.159L199.664 338H197.21L192.982 330.159H195.369ZM208.402 319.727L202.777 340.625H200.936L206.561 319.727H208.402ZM210.752 338V336.466L216.513 330.159C217.19 329.42 217.746 328.778 218.184 328.233C218.621 327.682 218.945 327.165 219.156 326.682C219.371 326.193 219.479 325.682 219.479 325.148C219.479 324.534 219.332 324.003 219.036 323.554C218.746 323.105 218.349 322.759 217.843 322.514C217.337 322.27 216.769 322.148 216.138 322.148C215.468 322.148 214.883 322.287 214.383 322.565C213.888 322.838 213.505 323.222 213.232 323.716C212.965 324.21 212.832 324.79 212.832 325.455H210.82C210.82 324.432 211.056 323.534 211.528 322.761C211.999 321.989 212.641 321.386 213.454 320.955C214.272 320.523 215.19 320.307 216.207 320.307C217.229 320.307 218.136 320.523 218.925 320.955C219.715 321.386 220.335 321.969 220.783 322.702C221.232 323.435 221.457 324.25 221.457 325.148C221.457 325.79 221.34 326.418 221.107 327.031C220.88 327.639 220.482 328.318 219.914 329.068C219.352 329.812 218.57 330.722 217.57 331.795L213.65 335.989V336.125H221.763V338H210.752Z"
                        fill="black" />
                  <path d="M247.341 401.335V403.21H239.705V401.335H247.341ZM251.153 411V393.545H257.05C258.414 393.545 259.533 393.778 260.408 394.244C261.283 394.705 261.931 395.338 262.352 396.145C262.772 396.952 262.982 397.869 262.982 398.898C262.982 399.926 262.772 400.838 262.352 401.634C261.931 402.429 261.286 403.054 260.417 403.509C259.548 403.957 258.437 404.182 257.085 404.182H252.312V402.273H257.016C257.948 402.273 258.698 402.136 259.266 401.864C259.84 401.591 260.255 401.205 260.511 400.705C260.772 400.199 260.903 399.597 260.903 398.898C260.903 398.199 260.772 397.588 260.511 397.065C260.249 396.543 259.832 396.139 259.258 395.855C258.684 395.565 257.925 395.42 256.982 395.42H253.266V411H251.153ZM259.369 403.159L263.664 411H261.21L256.982 403.159H259.369ZM272.402 392.727L266.777 413.625H264.936L270.561 392.727H272.402ZM274.752 411V409.466L280.513 403.159C281.19 402.42 281.746 401.778 282.184 401.233C282.621 400.682 282.945 400.165 283.156 399.682C283.371 399.193 283.479 398.682 283.479 398.148C283.479 397.534 283.332 397.003 283.036 396.554C282.746 396.105 282.349 395.759 281.843 395.514C281.337 395.27 280.769 395.148 280.138 395.148C279.468 395.148 278.883 395.287 278.383 395.565C277.888 395.838 277.505 396.222 277.232 396.716C276.965 397.21 276.832 397.79 276.832 398.455H274.82C274.82 397.432 275.056 396.534 275.528 395.761C275.999 394.989 276.641 394.386 277.454 393.955C278.272 393.523 279.19 393.307 280.207 393.307C281.229 393.307 282.136 393.523 282.925 393.955C283.715 394.386 284.335 394.969 284.783 395.702C285.232 396.435 285.457 397.25 285.457 398.148C285.457 398.79 285.34 399.418 285.107 400.031C284.88 400.639 284.482 401.318 283.914 402.068C283.352 402.812 282.57 403.722 281.57 404.795L277.65 408.989V409.125H285.763V411H274.752Z"
                        fill="black" />
                  <path d="M314.114 211V193.545H320.011C321.375 193.545 322.494 193.778 323.369 194.244C324.244 194.705 324.892 195.338 325.312 196.145C325.733 196.952 325.943 197.869 325.943 198.898C325.943 199.926 325.733 200.838 325.312 201.634C324.892 202.429 324.247 203.054 323.378 203.509C322.509 203.957 321.398 204.182 320.045 204.182H315.273V202.273H319.977C320.909 202.273 321.659 202.136 322.227 201.864C322.801 201.591 323.216 201.205 323.472 200.705C323.733 200.199 323.864 199.597 323.864 198.898C323.864 198.199 323.733 197.588 323.472 197.065C323.21 196.543 322.793 196.139 322.219 195.855C321.645 195.565 320.886 195.42 319.943 195.42H316.227V211H314.114ZM322.33 203.159L326.625 211H324.17L319.943 203.159H322.33ZM335.363 192.727L329.738 213.625H327.897L333.522 192.727H335.363ZM337.713 211V209.466L343.474 203.159C344.151 202.42 344.707 201.778 345.145 201.233C345.582 200.682 345.906 200.165 346.116 199.682C346.332 199.193 346.44 198.682 346.44 198.148C346.44 197.534 346.293 197.003 345.997 196.554C345.707 196.105 345.31 195.759 344.804 195.514C344.298 195.27 343.73 195.148 343.099 195.148C342.429 195.148 341.844 195.287 341.344 195.565C340.849 195.838 340.466 196.222 340.193 196.716C339.926 197.21 339.793 197.79 339.793 198.455H337.781C337.781 197.432 338.017 196.534 338.489 195.761C338.96 194.989 339.602 194.386 340.415 193.955C341.233 193.523 342.151 193.307 343.168 193.307C344.19 193.307 345.097 193.523 345.886 193.955C346.676 194.386 347.295 194.969 347.744 195.702C348.193 196.435 348.418 197.25 348.418 198.148C348.418 198.79 348.301 199.418 348.068 200.031C347.841 200.639 347.443 201.318 346.875 202.068C346.312 202.812 345.531 203.722 344.531 204.795L340.611 208.989V209.125H348.724V211H337.713Z"
                        fill="black" />
                  <path d="M383.114 284V266.545H389.011C390.375 266.545 391.494 266.778 392.369 267.244C393.244 267.705 393.892 268.338 394.312 269.145C394.733 269.952 394.943 270.869 394.943 271.898C394.943 272.926 394.733 273.838 394.312 274.634C393.892 275.429 393.247 276.054 392.378 276.509C391.509 276.957 390.398 277.182 389.045 277.182H384.273V275.273H388.977C389.909 275.273 390.659 275.136 391.227 274.864C391.801 274.591 392.216 274.205 392.472 273.705C392.733 273.199 392.864 272.597 392.864 271.898C392.864 271.199 392.733 270.588 392.472 270.065C392.21 269.543 391.793 269.139 391.219 268.855C390.645 268.565 389.886 268.42 388.943 268.42H385.227V284H383.114ZM391.33 276.159L395.625 284H393.17L388.943 276.159H391.33ZM404.363 265.727L398.738 286.625H396.897L402.522 265.727H404.363ZM406.713 284V282.466L412.474 276.159C413.151 275.42 413.707 274.778 414.145 274.233C414.582 273.682 414.906 273.165 415.116 272.682C415.332 272.193 415.44 271.682 415.44 271.148C415.44 270.534 415.293 270.003 414.997 269.554C414.707 269.105 414.31 268.759 413.804 268.514C413.298 268.27 412.73 268.148 412.099 268.148C411.429 268.148 410.844 268.287 410.344 268.565C409.849 268.838 409.466 269.222 409.193 269.716C408.926 270.21 408.793 270.79 408.793 271.455H406.781C406.781 270.432 407.017 269.534 407.489 268.761C407.96 267.989 408.602 267.386 409.415 266.955C410.233 266.523 411.151 266.307 412.168 266.307C413.19 266.307 414.097 266.523 414.886 266.955C415.676 267.386 416.295 267.969 416.744 268.702C417.193 269.435 417.418 270.25 417.418 271.148C417.418 271.79 417.301 272.418 417.068 273.031C416.841 273.639 416.443 274.318 415.875 275.068C415.312 275.812 414.531 276.722 413.531 277.795L409.611 281.989V282.125H417.724V284H406.713Z"
                        fill="black" />
            </svg>
            <svg v-if="tablet" width="500px" height="500px" viewBox="0 0 500 500" fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <path d="M252.414 0.585786C251.633 -0.195262 250.367 -0.195262 249.586 0.585786L236.858 13.3137C236.077 14.0948 236.077 15.3611 236.858 16.1421C237.639 16.9232 238.905 16.9232 239.686 16.1421L251 4.82843L262.314 16.1421C263.095 16.9232 264.361 16.9232 265.142 16.1421C265.923 15.3611 265.923 14.0948 265.142 13.3137L252.414 0.585786ZM249 2L249 493H253L253 2L249 2Z"
                        fill="black" />
                  <path d="M501.414 250.414C502.195 249.633 502.195 248.367 501.414 247.586L488.686 234.858C487.905 234.077 486.639 234.077 485.858 234.858C485.077 235.639 485.077 236.905 485.858 237.686L497.172 249L485.858 260.314C485.077 261.095 485.077 262.361 485.858 263.142C486.639 263.923 487.905 263.923 488.686 263.142L501.414 250.414ZM0 251H500V247H0V251Z"
                        fill="black" />
                  <line x1="241" y1="165" x2="258" y2="165" stroke="black" stroke-width="2" />
                  <line x1="241" y1="411" x2="258" y2="411" stroke="black" stroke-width="2" />
                  <line x1="241" y1="330" x2="258" y2="330" stroke="black" stroke-width="2" />
                  <line x1="241" y1="84" x2="258" y2="84" stroke="black" stroke-width="2" />
                  <line x1="332" y1="257" x2="332" y2="240" stroke="black" stroke-width="2" />
                  <line x1="82" y1="257" x2="82" y2="240" stroke="black" stroke-width="2" />
                  <line x1="166" y1="257" x2="166" y2="240" stroke="black" stroke-width="2" />
                  <line x1="416" y1="257" x2="416" y2="240" stroke="black" stroke-width="2" />
                  <rect x="166" y="84" width="85" height="165" fill="#1E90FF" fill-opacity="0.6" />
                  <path d="M250 330C260.9 330 271.693 327.866 281.763 323.72C291.833 319.574 300.983 313.497 308.69 305.836C316.397 298.175 322.511 289.081 326.682 279.071C330.853 269.062 333 258.334 333 247.5L250 247.5V330Z"
                        fill="#1E90FF" fill-opacity="0.6" />
                  <path d="M82 249H251V330L82 249Z" fill="#1E90FF" fill-opacity="0.6" />
                  <path d="M279.136 20.9091C278.795 20.9091 278.491 20.8807 278.224 20.8239C277.957 20.7727 277.773 20.7216 277.67 20.6705L278.182 18.8977C278.67 19.0227 279.102 19.0682 279.477 19.0341C279.852 19 280.185 18.8324 280.474 18.5312C280.77 18.2358 281.04 17.7557 281.284 17.0909L281.659 16.0682L276.818 2.90909H279L282.614 13.3409H282.75L286.364 2.90909H288.545L282.989 17.9091C282.739 18.5852 282.429 19.1449 282.06 19.5881C281.69 20.0369 281.261 20.3693 280.773 20.5852C280.29 20.8011 279.744 20.9091 279.136 20.9091Z"
                        fill="black" />
                  <path d="M472.341 221.909L475.477 227.261L478.614 221.909H480.932L476.705 228.455L480.932 235H478.614L475.477 229.92L472.341 235H470.023L474.182 228.455L470.023 221.909H472.341Z"
                        fill="black" />
                  <path d="M262.114 96V78.5455H268.011C269.375 78.5455 270.494 78.7784 271.369 79.2443C272.244 79.7045 272.892 80.3381 273.312 81.1449C273.733 81.9517 273.943 82.8693 273.943 83.8977C273.943 84.9261 273.733 85.8381 273.312 86.6335C272.892 87.429 272.247 88.054 271.378 88.5085C270.509 88.9574 269.398 89.1818 268.045 89.1818H263.273V87.2727H267.977C268.909 87.2727 269.659 87.1364 270.227 86.8636C270.801 86.5909 271.216 86.2045 271.472 85.7045C271.733 85.1989 271.864 84.5966 271.864 83.8977C271.864 83.1989 271.733 82.5881 271.472 82.0653C271.21 81.5426 270.793 81.1392 270.219 80.8551C269.645 80.5653 268.886 80.4205 267.943 80.4205H264.227V96H262.114ZM270.33 88.1591L274.625 96H272.17L267.943 88.1591H270.33Z"
                        fill="black" />
                  <path d="M78.3409 273.335V275.21H70.7045V273.335H78.3409ZM82.1527 283V265.545H88.0504C89.4141 265.545 90.5334 265.778 91.4084 266.244C92.2834 266.705 92.9311 267.338 93.3516 268.145C93.772 268.952 93.9822 269.869 93.9822 270.898C93.9822 271.926 93.772 272.838 93.3516 273.634C92.9311 274.429 92.2862 275.054 91.4169 275.509C90.5476 275.957 89.4368 276.182 88.0845 276.182H83.3118V274.273H88.0163C88.9482 274.273 89.6982 274.136 90.2663 273.864C90.8402 273.591 91.255 273.205 91.5107 272.705C91.772 272.199 91.9027 271.597 91.9027 270.898C91.9027 270.199 91.772 269.588 91.5107 269.065C91.2493 268.543 90.8317 268.139 90.2578 267.855C89.6839 267.565 88.9254 267.42 87.9822 267.42H84.2663V283H82.1527ZM90.3686 275.159L94.6641 283H92.2095L87.9822 275.159H90.3686Z"
                        fill="black" />
                  <path d="M412.114 235V217.545H418.011C419.375 217.545 420.494 217.778 421.369 218.244C422.244 218.705 422.892 219.338 423.312 220.145C423.733 220.952 423.943 221.869 423.943 222.898C423.943 223.926 423.733 224.838 423.312 225.634C422.892 226.429 422.247 227.054 421.378 227.509C420.509 227.957 419.398 228.182 418.045 228.182H413.273V226.273H417.977C418.909 226.273 419.659 226.136 420.227 225.864C420.801 225.591 421.216 225.205 421.472 224.705C421.733 224.199 421.864 223.597 421.864 222.898C421.864 222.199 421.733 221.588 421.472 221.065C421.21 220.543 420.793 220.139 420.219 219.855C419.645 219.565 418.886 219.42 417.943 219.42H414.227V235H412.114ZM420.33 227.159L424.625 235H422.17L417.943 227.159H420.33Z"
                        fill="black" />
                  <path d="M218.341 413.335V415.21H210.705V413.335H218.341ZM222.153 423V405.545H228.05C229.414 405.545 230.533 405.778 231.408 406.244C232.283 406.705 232.931 407.338 233.352 408.145C233.772 408.952 233.982 409.869 233.982 410.898C233.982 411.926 233.772 412.838 233.352 413.634C232.931 414.429 232.286 415.054 231.417 415.509C230.548 415.957 229.437 416.182 228.085 416.182H223.312V414.273H228.016C228.948 414.273 229.698 414.136 230.266 413.864C230.84 413.591 231.255 413.205 231.511 412.705C231.772 412.199 231.903 411.597 231.903 410.898C231.903 410.199 231.772 409.588 231.511 409.065C231.249 408.543 230.832 408.139 230.258 407.855C229.684 407.565 228.925 407.42 227.982 407.42H224.266V423H222.153ZM230.369 415.159L234.664 423H232.21L227.982 415.159H230.369Z"
                        fill="black" />
                  <path d="M153.341 273.335V275.21H145.705V273.335H153.341ZM157.153 283V265.545H163.05C164.414 265.545 165.533 265.778 166.408 266.244C167.283 266.705 167.931 267.338 168.352 268.145C168.772 268.952 168.982 269.869 168.982 270.898C168.982 271.926 168.772 272.838 168.352 273.634C167.931 274.429 167.286 275.054 166.417 275.509C165.548 275.957 164.437 276.182 163.085 276.182H158.312V274.273H163.016C163.948 274.273 164.698 274.136 165.266 273.864C165.84 273.591 166.255 273.205 166.511 272.705C166.772 272.199 166.903 271.597 166.903 270.898C166.903 270.199 166.772 269.588 166.511 269.065C166.249 268.543 165.832 268.139 165.258 267.855C164.684 267.565 163.925 267.42 162.982 267.42H159.266V283H157.153ZM165.369 275.159L169.664 283H167.21L162.982 275.159H165.369ZM178.402 264.727L172.777 285.625H170.936L176.561 264.727H178.402ZM180.752 283V281.466L186.513 275.159C187.19 274.42 187.746 273.778 188.184 273.233C188.621 272.682 188.945 272.165 189.156 271.682C189.371 271.193 189.479 270.682 189.479 270.148C189.479 269.534 189.332 269.003 189.036 268.554C188.746 268.105 188.349 267.759 187.843 267.514C187.337 267.27 186.769 267.148 186.138 267.148C185.468 267.148 184.883 267.287 184.383 267.565C183.888 267.838 183.505 268.222 183.232 268.716C182.965 269.21 182.832 269.79 182.832 270.455H180.82C180.82 269.432 181.056 268.534 181.528 267.761C181.999 266.989 182.641 266.386 183.454 265.955C184.272 265.523 185.19 265.307 186.207 265.307C187.229 265.307 188.136 265.523 188.925 265.955C189.715 266.386 190.335 266.969 190.783 267.702C191.232 268.435 191.457 269.25 191.457 270.148C191.457 270.79 191.34 271.418 191.107 272.031C190.88 272.639 190.482 273.318 189.914 274.068C189.352 274.812 188.57 275.722 187.57 276.795L183.65 280.989V281.125H191.763V283H180.752Z"
                        fill="black" />
                  <path d="M195.341 329.335V331.21H187.705V329.335H195.341ZM199.153 339V321.545H205.05C206.414 321.545 207.533 321.778 208.408 322.244C209.283 322.705 209.931 323.338 210.352 324.145C210.772 324.952 210.982 325.869 210.982 326.898C210.982 327.926 210.772 328.838 210.352 329.634C209.931 330.429 209.286 331.054 208.417 331.509C207.548 331.957 206.437 332.182 205.085 332.182H200.312V330.273H205.016C205.948 330.273 206.698 330.136 207.266 329.864C207.84 329.591 208.255 329.205 208.511 328.705C208.772 328.199 208.903 327.597 208.903 326.898C208.903 326.199 208.772 325.588 208.511 325.065C208.249 324.543 207.832 324.139 207.258 323.855C206.684 323.565 205.925 323.42 204.982 323.42H201.266V339H199.153ZM207.369 331.159L211.664 339H209.21L204.982 331.159H207.369ZM220.402 320.727L214.777 341.625H212.936L218.561 320.727H220.402ZM222.752 339V337.466L228.513 331.159C229.19 330.42 229.746 329.778 230.184 329.233C230.621 328.682 230.945 328.165 231.156 327.682C231.371 327.193 231.479 326.682 231.479 326.148C231.479 325.534 231.332 325.003 231.036 324.554C230.746 324.105 230.349 323.759 229.843 323.514C229.337 323.27 228.769 323.148 228.138 323.148C227.468 323.148 226.883 323.287 226.383 323.565C225.888 323.838 225.505 324.222 225.232 324.716C224.965 325.21 224.832 325.79 224.832 326.455H222.82C222.82 325.432 223.056 324.534 223.528 323.761C223.999 322.989 224.641 322.386 225.454 321.955C226.272 321.523 227.19 321.307 228.207 321.307C229.229 321.307 230.136 321.523 230.925 321.955C231.715 322.386 232.335 322.969 232.783 323.702C233.232 324.435 233.457 325.25 233.457 326.148C233.457 326.79 233.34 327.418 233.107 328.031C232.88 328.639 232.482 329.318 231.914 330.068C231.352 330.812 230.57 331.722 229.57 332.795L225.65 336.989V337.125H233.763V339H222.752Z"
                        fill="black" />
                  <path d="M262.114 175V157.545H268.011C269.375 157.545 270.494 157.778 271.369 158.244C272.244 158.705 272.892 159.338 273.312 160.145C273.733 160.952 273.943 161.869 273.943 162.898C273.943 163.926 273.733 164.838 273.312 165.634C272.892 166.429 272.247 167.054 271.378 167.509C270.509 167.957 269.398 168.182 268.045 168.182H263.273V166.273H267.977C268.909 166.273 269.659 166.136 270.227 165.864C270.801 165.591 271.216 165.205 271.472 164.705C271.733 164.199 271.864 163.597 271.864 162.898C271.864 162.199 271.733 161.588 271.472 161.065C271.21 160.543 270.793 160.139 270.219 159.855C269.645 159.565 268.886 159.42 267.943 159.42H264.227V175H262.114ZM270.33 167.159L274.625 175H272.17L267.943 167.159H270.33ZM283.363 156.727L277.738 177.625H275.897L281.522 156.727H283.363ZM285.713 175V173.466L291.474 167.159C292.151 166.42 292.707 165.778 293.145 165.233C293.582 164.682 293.906 164.165 294.116 163.682C294.332 163.193 294.44 162.682 294.44 162.148C294.44 161.534 294.293 161.003 293.997 160.554C293.707 160.105 293.31 159.759 292.804 159.514C292.298 159.27 291.73 159.148 291.099 159.148C290.429 159.148 289.844 159.287 289.344 159.565C288.849 159.838 288.466 160.222 288.193 160.716C287.926 161.21 287.793 161.79 287.793 162.455H285.781C285.781 161.432 286.017 160.534 286.489 159.761C286.96 158.989 287.602 158.386 288.415 157.955C289.233 157.523 290.151 157.307 291.168 157.307C292.19 157.307 293.097 157.523 293.886 157.955C294.676 158.386 295.295 158.969 295.744 159.702C296.193 160.435 296.418 161.25 296.418 162.148C296.418 162.79 296.301 163.418 296.068 164.031C295.841 164.639 295.443 165.318 294.875 166.068C294.312 166.812 293.531 167.722 292.531 168.795L288.611 172.989V173.125H296.724V175H285.713Z"
                        fill="black" />
                  <path d="M320.114 235V217.545H326.011C327.375 217.545 328.494 217.778 329.369 218.244C330.244 218.705 330.892 219.338 331.312 220.145C331.733 220.952 331.943 221.869 331.943 222.898C331.943 223.926 331.733 224.838 331.312 225.634C330.892 226.429 330.247 227.054 329.378 227.509C328.509 227.957 327.398 228.182 326.045 228.182H321.273V226.273H325.977C326.909 226.273 327.659 226.136 328.227 225.864C328.801 225.591 329.216 225.205 329.472 224.705C329.733 224.199 329.864 223.597 329.864 222.898C329.864 222.199 329.733 221.588 329.472 221.065C329.21 220.543 328.793 220.139 328.219 219.855C327.645 219.565 326.886 219.42 325.943 219.42H322.227V235H320.114ZM328.33 227.159L332.625 235H330.17L325.943 227.159H328.33ZM341.363 216.727L335.738 237.625H333.897L339.522 216.727H341.363ZM343.713 235V233.466L349.474 227.159C350.151 226.42 350.707 225.778 351.145 225.233C351.582 224.682 351.906 224.165 352.116 223.682C352.332 223.193 352.44 222.682 352.44 222.148C352.44 221.534 352.293 221.003 351.997 220.554C351.707 220.105 351.31 219.759 350.804 219.514C350.298 219.27 349.73 219.148 349.099 219.148C348.429 219.148 347.844 219.287 347.344 219.565C346.849 219.838 346.466 220.222 346.193 220.716C345.926 221.21 345.793 221.79 345.793 222.455H343.781C343.781 221.432 344.017 220.534 344.489 219.761C344.96 218.989 345.602 218.386 346.415 217.955C347.233 217.523 348.151 217.307 349.168 217.307C350.19 217.307 351.097 217.523 351.886 217.955C352.676 218.386 353.295 218.969 353.744 219.702C354.193 220.435 354.418 221.25 354.418 222.148C354.418 222.79 354.301 223.418 354.068 224.031C353.841 224.639 353.443 225.318 352.875 226.068C352.312 226.812 351.531 227.722 350.531 228.795L346.611 232.989V233.125H354.724V235H343.713Z"
                        fill="black" />
            </svg>
            <svg v-if="mobile" width="350px" height="350px" viewBox="0 0 350 350" fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <path d="M177.414 0.585786C176.633 -0.195262 175.367 -0.195262 174.586 0.585786L161.858 13.3137C161.077 14.0948 161.077 15.3611 161.858 16.1421C162.639 16.9232 163.905 16.9232 164.686 16.1421L176 4.82843L187.314 16.1421C188.095 16.9232 189.361 16.9232 190.142 16.1421C190.923 15.3611 190.923 14.0948 190.142 13.3137L177.414 0.585786ZM174 2L174 346H178L178 2L174 2Z"
                        fill="black" />
                  <path d="M351.414 176.414C352.195 175.633 352.195 174.367 351.414 173.586L338.686 160.858C337.905 160.077 336.639 160.077 335.858 160.858C335.077 161.639 335.077 162.905 335.858 163.686L347.172 175L335.858 186.314C335.077 187.095 335.077 188.361 335.858 189.142C336.639 189.923 337.905 189.923 338.686 189.142L351.414 176.414ZM0 177H350V173H0V177Z"
                        fill="black" />
                  <line x1="169" y1="116" x2="181" y2="116" stroke="black" stroke-width="2" />
                  <line x1="169" y1="288" x2="181" y2="288" stroke="black" stroke-width="2" />
                  <line x1="169" y1="232" x2="181" y2="232" stroke="black" stroke-width="2" />
                  <line x1="169" y1="59" x2="181" y2="59" stroke="black" stroke-width="2" />
                  <line x1="232" y1="181" x2="232" y2="169" stroke="black" stroke-width="2" />
                  <line x1="57" y1="181" x2="57" y2="169" stroke="black" stroke-width="2" />
                  <line x1="116" y1="181" x2="116" y2="169" stroke="black" stroke-width="2" />
                  <line x1="291" y1="181" x2="291" y2="169" stroke="black" stroke-width="2" />
                  <rect x="116" y="60" width="60" height="115" fill="#1E90FF" fill-opacity="0.6" />
                  <path d="M175 232C182.617 232 190.159 230.5 197.196 227.585C204.233 224.67 210.626 220.398 216.012 215.012C221.398 209.626 225.67 203.233 228.585 196.196C231.5 189.159 233 181.617 233 174L175 174V232Z"
                        fill="#1E90FF" fill-opacity="0.6" />
                  <path d="M57 175H176V232L57 175Z" fill="#1E90FF" fill-opacity="0.6" />
                  <path d="M196.136 23.9091C195.795 23.9091 195.491 23.8807 195.224 23.8239C194.957 23.7727 194.773 23.7216 194.67 23.6705L195.182 21.8977C195.67 22.0227 196.102 22.0682 196.477 22.0341C196.852 22 197.185 21.8324 197.474 21.5312C197.77 21.2358 198.04 20.7557 198.284 20.0909L198.659 19.0682L193.818 5.90909H196L199.614 16.3409H199.75L203.364 5.90909H205.545L199.989 20.9091C199.739 21.5852 199.429 22.1449 199.06 22.5881C198.69 23.0369 198.261 23.3693 197.773 23.5852C197.29 23.8011 196.744 23.9091 196.136 23.9091Z"
                        fill="black" />
                  <path d="M332.341 141.909L335.477 147.261L338.614 141.909H340.932L336.705 148.455L340.932 155H338.614L335.477 149.92L332.341 155H330.023L334.182 148.455L330.023 141.909H332.341Z"
                        fill="black" />
                  <path d="M184.114 75V57.5455H190.011C191.375 57.5455 192.494 57.7784 193.369 58.2443C194.244 58.7045 194.892 59.3381 195.312 60.1449C195.733 60.9517 195.943 61.8693 195.943 62.8977C195.943 63.9261 195.733 64.8381 195.312 65.6335C194.892 66.429 194.247 67.054 193.378 67.5085C192.509 67.9574 191.398 68.1818 190.045 68.1818H185.273V66.2727H189.977C190.909 66.2727 191.659 66.1364 192.227 65.8636C192.801 65.5909 193.216 65.2045 193.472 64.7045C193.733 64.1989 193.864 63.5966 193.864 62.8977C193.864 62.1989 193.733 61.5881 193.472 61.0653C193.21 60.5426 192.793 60.1392 192.219 59.8551C191.645 59.5653 190.886 59.4205 189.943 59.4205H186.227V75H184.114ZM192.33 67.1591L196.625 75H194.17L189.943 67.1591H192.33Z"
                        fill="black" />
                  <path d="M57.3409 196.335V198.21H49.7045V196.335H57.3409ZM61.1527 206V188.545H67.0504C68.4141 188.545 69.5334 188.778 70.4084 189.244C71.2834 189.705 71.9311 190.338 72.3516 191.145C72.772 191.952 72.9822 192.869 72.9822 193.898C72.9822 194.926 72.772 195.838 72.3516 196.634C71.9311 197.429 71.2862 198.054 70.4169 198.509C69.5476 198.957 68.4368 199.182 67.0845 199.182H62.3118V197.273H67.0163C67.9482 197.273 68.6982 197.136 69.2663 196.864C69.8402 196.591 70.255 196.205 70.5107 195.705C70.772 195.199 70.9027 194.597 70.9027 193.898C70.9027 193.199 70.772 192.588 70.5107 192.065C70.2493 191.543 69.8317 191.139 69.2578 190.855C68.6839 190.565 67.9254 190.42 66.9822 190.42H63.2663V206H61.1527ZM69.3686 198.159L73.6641 206H71.2095L66.9822 198.159H69.3686Z"
                        fill="black" />
                  <path d="M288.114 166V148.545H294.011C295.375 148.545 296.494 148.778 297.369 149.244C298.244 149.705 298.892 150.338 299.312 151.145C299.733 151.952 299.943 152.869 299.943 153.898C299.943 154.926 299.733 155.838 299.312 156.634C298.892 157.429 298.247 158.054 297.378 158.509C296.509 158.957 295.398 159.182 294.045 159.182H289.273V157.273H293.977C294.909 157.273 295.659 157.136 296.227 156.864C296.801 156.591 297.216 156.205 297.472 155.705C297.733 155.199 297.864 154.597 297.864 153.898C297.864 153.199 297.733 152.588 297.472 152.065C297.21 151.543 296.793 151.139 296.219 150.855C295.645 150.565 294.886 150.42 293.943 150.42H290.227V166H288.114ZM296.33 158.159L300.625 166H298.17L293.943 158.159H296.33Z"
                        fill="black" />
                  <path d="M145.341 289.335V291.21H137.705V289.335H145.341ZM149.153 299V281.545H155.05C156.414 281.545 157.533 281.778 158.408 282.244C159.283 282.705 159.931 283.338 160.352 284.145C160.772 284.952 160.982 285.869 160.982 286.898C160.982 287.926 160.772 288.838 160.352 289.634C159.931 290.429 159.286 291.054 158.417 291.509C157.548 291.957 156.437 292.182 155.085 292.182H150.312V290.273H155.016C155.948 290.273 156.698 290.136 157.266 289.864C157.84 289.591 158.255 289.205 158.511 288.705C158.772 288.199 158.903 287.597 158.903 286.898C158.903 286.199 158.772 285.588 158.511 285.065C158.249 284.543 157.832 284.139 157.258 283.855C156.684 283.565 155.925 283.42 154.982 283.42H151.266V299H149.153ZM157.369 291.159L161.664 299H159.21L154.982 291.159H157.369Z"
                        fill="black" />
                  <path d="M110.341 196.335V198.21H102.705V196.335H110.341ZM114.153 206V188.545H120.05C121.414 188.545 122.533 188.778 123.408 189.244C124.283 189.705 124.931 190.338 125.352 191.145C125.772 191.952 125.982 192.869 125.982 193.898C125.982 194.926 125.772 195.838 125.352 196.634C124.931 197.429 124.286 198.054 123.417 198.509C122.548 198.957 121.437 199.182 120.085 199.182H115.312V197.273H120.016C120.948 197.273 121.698 197.136 122.266 196.864C122.84 196.591 123.255 196.205 123.511 195.705C123.772 195.199 123.903 194.597 123.903 193.898C123.903 193.199 123.772 192.588 123.511 192.065C123.249 191.543 122.832 191.139 122.258 190.855C121.684 190.565 120.925 190.42 119.982 190.42H116.266V206H114.153ZM122.369 198.159L126.664 206H124.21L119.982 198.159H122.369ZM135.402 187.727L129.777 208.625H127.936L133.561 187.727H135.402ZM137.752 206V204.466L143.513 198.159C144.19 197.42 144.746 196.778 145.184 196.233C145.621 195.682 145.945 195.165 146.156 194.682C146.371 194.193 146.479 193.682 146.479 193.148C146.479 192.534 146.332 192.003 146.036 191.554C145.746 191.105 145.349 190.759 144.843 190.514C144.337 190.27 143.769 190.148 143.138 190.148C142.468 190.148 141.883 190.287 141.383 190.565C140.888 190.838 140.505 191.222 140.232 191.716C139.965 192.21 139.832 192.79 139.832 193.455H137.82C137.82 192.432 138.056 191.534 138.528 190.761C138.999 189.989 139.641 189.386 140.454 188.955C141.272 188.523 142.19 188.307 143.207 188.307C144.229 188.307 145.136 188.523 145.925 188.955C146.715 189.386 147.335 189.969 147.783 190.702C148.232 191.435 148.457 192.25 148.457 193.148C148.457 193.79 148.34 194.418 148.107 195.031C147.88 195.639 147.482 196.318 146.914 197.068C146.352 197.812 145.57 198.722 144.57 199.795L140.65 203.989V204.125H148.763V206H137.752Z"
                        fill="black" />
                  <path d="M125.341 231.335V233.21H117.705V231.335H125.341ZM129.153 241V223.545H135.05C136.414 223.545 137.533 223.778 138.408 224.244C139.283 224.705 139.931 225.338 140.352 226.145C140.772 226.952 140.982 227.869 140.982 228.898C140.982 229.926 140.772 230.838 140.352 231.634C139.931 232.429 139.286 233.054 138.417 233.509C137.548 233.957 136.437 234.182 135.085 234.182H130.312V232.273H135.016C135.948 232.273 136.698 232.136 137.266 231.864C137.84 231.591 138.255 231.205 138.511 230.705C138.772 230.199 138.903 229.597 138.903 228.898C138.903 228.199 138.772 227.588 138.511 227.065C138.249 226.543 137.832 226.139 137.258 225.855C136.684 225.565 135.925 225.42 134.982 225.42H131.266V241H129.153ZM137.369 233.159L141.664 241H139.21L134.982 233.159H137.369ZM150.402 222.727L144.777 243.625H142.936L148.561 222.727H150.402ZM152.752 241V239.466L158.513 233.159C159.19 232.42 159.746 231.778 160.184 231.233C160.621 230.682 160.945 230.165 161.156 229.682C161.371 229.193 161.479 228.682 161.479 228.148C161.479 227.534 161.332 227.003 161.036 226.554C160.746 226.105 160.349 225.759 159.843 225.514C159.337 225.27 158.769 225.148 158.138 225.148C157.468 225.148 156.883 225.287 156.383 225.565C155.888 225.838 155.505 226.222 155.232 226.716C154.965 227.21 154.832 227.79 154.832 228.455H152.82C152.82 227.432 153.056 226.534 153.528 225.761C153.999 224.989 154.641 224.386 155.454 223.955C156.272 223.523 157.19 223.307 158.207 223.307C159.229 223.307 160.136 223.523 160.925 223.955C161.715 224.386 162.335 224.969 162.783 225.702C163.232 226.435 163.457 227.25 163.457 228.148C163.457 228.79 163.34 229.418 163.107 230.031C162.88 230.639 162.482 231.318 161.914 232.068C161.352 232.812 160.57 233.722 159.57 234.795L155.65 238.989V239.125H163.763V241H152.752Z"
                        fill="black" />
                  <path d="M184.114 130V112.545H190.011C191.375 112.545 192.494 112.778 193.369 113.244C194.244 113.705 194.892 114.338 195.312 115.145C195.733 115.952 195.943 116.869 195.943 117.898C195.943 118.926 195.733 119.838 195.312 120.634C194.892 121.429 194.247 122.054 193.378 122.509C192.509 122.957 191.398 123.182 190.045 123.182H185.273V121.273H189.977C190.909 121.273 191.659 121.136 192.227 120.864C192.801 120.591 193.216 120.205 193.472 119.705C193.733 119.199 193.864 118.597 193.864 117.898C193.864 117.199 193.733 116.588 193.472 116.065C193.21 115.543 192.793 115.139 192.219 114.855C191.645 114.565 190.886 114.42 189.943 114.42H186.227V130H184.114ZM192.33 122.159L196.625 130H194.17L189.943 122.159H192.33ZM205.363 111.727L199.738 132.625H197.897L203.522 111.727H205.363ZM207.713 130V128.466L213.474 122.159C214.151 121.42 214.707 120.778 215.145 120.233C215.582 119.682 215.906 119.165 216.116 118.682C216.332 118.193 216.44 117.682 216.44 117.148C216.44 116.534 216.293 116.003 215.997 115.554C215.707 115.105 215.31 114.759 214.804 114.514C214.298 114.27 213.73 114.148 213.099 114.148C212.429 114.148 211.844 114.287 211.344 114.565C210.849 114.838 210.466 115.222 210.193 115.716C209.926 116.21 209.793 116.79 209.793 117.455H207.781C207.781 116.432 208.017 115.534 208.489 114.761C208.96 113.989 209.602 113.386 210.415 112.955C211.233 112.523 212.151 112.307 213.168 112.307C214.19 112.307 215.097 112.523 215.886 112.955C216.676 113.386 217.295 113.969 217.744 114.702C218.193 115.435 218.418 116.25 218.418 117.148C218.418 117.79 218.301 118.418 218.068 119.031C217.841 119.639 217.443 120.318 216.875 121.068C216.312 121.812 215.531 122.722 214.531 123.795L210.611 127.989V128.125H218.724V130H207.713Z"
                        fill="black" />
                  <path d="M217.114 166V148.545H223.011C224.375 148.545 225.494 148.778 226.369 149.244C227.244 149.705 227.892 150.338 228.312 151.145C228.733 151.952 228.943 152.869 228.943 153.898C228.943 154.926 228.733 155.838 228.312 156.634C227.892 157.429 227.247 158.054 226.378 158.509C225.509 158.957 224.398 159.182 223.045 159.182H218.273V157.273H222.977C223.909 157.273 224.659 157.136 225.227 156.864C225.801 156.591 226.216 156.205 226.472 155.705C226.733 155.199 226.864 154.597 226.864 153.898C226.864 153.199 226.733 152.588 226.472 152.065C226.21 151.543 225.793 151.139 225.219 150.855C224.645 150.565 223.886 150.42 222.943 150.42H219.227V166H217.114ZM225.33 158.159L229.625 166H227.17L222.943 158.159H225.33ZM238.363 147.727L232.738 168.625H230.897L236.522 147.727H238.363ZM240.713 166V164.466L246.474 158.159C247.151 157.42 247.707 156.778 248.145 156.233C248.582 155.682 248.906 155.165 249.116 154.682C249.332 154.193 249.44 153.682 249.44 153.148C249.44 152.534 249.293 152.003 248.997 151.554C248.707 151.105 248.31 150.759 247.804 150.514C247.298 150.27 246.73 150.148 246.099 150.148C245.429 150.148 244.844 150.287 244.344 150.565C243.849 150.838 243.466 151.222 243.193 151.716C242.926 152.21 242.793 152.79 242.793 153.455H240.781C240.781 152.432 241.017 151.534 241.489 150.761C241.96 149.989 242.602 149.386 243.415 148.955C244.233 148.523 245.151 148.307 246.168 148.307C247.19 148.307 248.097 148.523 248.886 148.955C249.676 149.386 250.295 149.969 250.744 150.702C251.193 151.435 251.418 152.25 251.418 153.148C251.418 153.79 251.301 154.418 251.068 155.031C250.841 155.639 250.443 156.318 249.875 157.068C249.312 157.812 248.531 158.722 247.531 159.795L243.611 163.989V164.125H251.724V166H240.713Z"
                        fill="black" />
            </svg>
      </div>
</template>

<script>
import { computed } from 'vue'
import axios from 'axios'
import moment from 'moment'

export default {
      props: ['dataBaseHits', 'R'],
      data() {
            return {
                  hitsRes: null,
                  width: null,
                  height: null,
                  desktop: false,
                  tablet: false,
                  mobile: false,
                  canvas: null,
                  errorMessage: null,
            }
      },
      mounted() {
            this.$nextTick(() => {
                  this.canvasResize()

                  this.canvas = this.$refs.chart;
                  this.canvas.width = this.width
                  this.canvas.height = this.height

                  window.onresize = () => {
                        this.canvasResize();
                        this.canvas.width = this.width
                        this.canvas.height = this.height
                        this.drawHits(this.dataBaseHits)
                  }
            })
      },
      provide() {
            return {
                  hitsRes: computed(() => this.dataBaseHits),
            }
      },
      watch: {
            dataBaseHits: {
                  handler() {
                        this.clearCanvas()
                        this.drawHits(this.dataBaseHits)
                  }
            }
      },
      methods: {
            canvasResize() {
                  let width = window.screen.width
                  this.desktop = false
                  this.tablet = false
                  this.mobile = false
                  if (width >= 1061) {
                        this.desktop = true
                        this.tablet = false
                        this.mobile = false
                  }
                  if (width <= 1061 && width >= 886) {
                        this.desktop = false
                        this.tablet = true
                        this.mobile = false
                  }
                  if (width < 886) {
                        this.desktop = false
                        this.tablet = false
                        this.mobile = true
                  }
                  if (this.desktop) {
                        this.width = 600
                        this.height = 600
                  }
                  if (this.tablet) {
                        this.width = 500
                        this.height = 500
                  }
                  if (this.mobile) {
                        this.width = 350
                        this.height = 350
                  }
            },
            format_date(value) {
                  if (value) {
                        return moment(String(value)).format('yyyy-MM-dd HH:mm:ss')
                  }
            },
            async click(event) {
                  this.errorMessage = null;
                  this.$emit("getErrMsg", this.errorMessage);
                  let rect = this.canvas.getBoundingClientRect();
                  let x = event.clientX - rect.left - this.canvas.width / 2;
                  let y = event.clientY - rect.top - this.canvas.height / 2;
                  let R = this.R;
                  console.log(R)
                  if (R == null) {
                        this.errorMessage = "Нет информации о радиусе, невозможно определить координаты по графику";
                        this.$emit("getErrMsg", this.errorMessage);
                        return;
                  } else if (R <= 0 || R >= 5) {
                        this.errorMessage = "Радиус не входит в заданный диапазон";
                        this.$emit("getErrMsg", this.errorMessage);
                        return;
                  }
                  let width = this.width
                  let rateX = (x * R) / (width / 3);
                  let rateY = (y * R) / (width / 3);
                  let dataBaseHit = {
                        x: rateX,
                        y: -rateY,
                        r: R
                  }
                  await axios.post("http://localhost:8080/api/hit", dataBaseHit).catch(function (error) {
                        this.errorMessage = error.response.data;
                  }).then(response => {
                        this.hitsRes = response.data;
                        for (let i = 0; i < this.hitsRes.length; i++) {
                              this.hitsRes[i].curTime = this.format_date(this.hitsRes[i].curTime)
                        }
                        this.$emit('getHits', this.hitsRes);
                  });

            },
            drawHits(hits) {
                  let r = hits[0].r
                  let chart = this.canvas.getContext('2d');
                  hits.forEach(hit => {
                        let offsetX = this.canvas.width / 2
                        let offsetY = this.canvas.height / 2
                        let width = this.width
                        let rateX = (hit.x / r) * (width / 3);
                        let rateY = (hit.y / r) * (width / 3);
                        if (hit.hit === "Hit") {
                              chart.fillStyle = 'green';
                        } else {
                              chart.fillStyle = "red";
                        }
                        chart.beginPath();
                        chart.arc(rateX + offsetX, offsetY - rateY,
                              7, 0, 2 * Math.PI);
                        chart.fill();
                  })
            },
            clearCanvas() {
                  let chart = this.canvas.getContext('2d');
                  chart.clearRect(0, 0, this.canvas.width, this.canvas.height)
            }
      }
}

</script>

<style>
canvas {
      position: absolute;
}
</style>